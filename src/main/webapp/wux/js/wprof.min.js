var WP
!function(t){function e(){var t=window?window.__data:void 0
return t?(t.sys||(t.sys=[]),t.jvm||(t.jvm=[]),t.evn||(t.evn=[]),t):{sys:[],jvm:[],evn:[],msg:"No data available"}}t.getData=e}(WP||(WP={}))
var WP
!function(t){var e=WUX.WUtil,s=function(t){function e(e){var s=t.call(this,e,"DlgEvents")||this
return s.title="Events",s.lblLab=new WUX.WLabel(s.subId("ll"),"","","",WUX.CSS.LABEL_INFO),s.lblVal=new WUX.WLabel(s.subId("lv"),"","","",WUX.CSS.LABEL_NOTICE),s.tabEvn=new WUX.WTable(s.subId("te"),["Date time","Type","Application","Class","Method","Elapsed","Size","Exception"]),s.tabEvn.selectionMode="single",s.body.addRow().addCol("12",{a:"right"}).add(s.lblLab).addRow().addCol("12",{a:"right"}).add(s.lblVal).addRow().addCol("12").section("Events").add(s.tabEvn),s}return __extends(e,t),e.prototype.updateProps=function(e){t.prototype.updateProps.call(this,e),this.lblLab&&this.lblLab.setState(this.props)},e.prototype.updateState=function(e){t.prototype.updateState.call(this,e),this.state||(this.state=0),this.lblVal&&(this._title&&this._title.indexOf("perc")>=0?this.lblVal.setState(this.state+" %"):this.lblVal.setState(""+this.state))},e.prototype.setEvents=function(t){t||(t=[]),this.tabEvn&&this.tabEvn.setState(t)},e}(WUX.WDialog)
t.DlgEvents=s
var a=function(a){function i(e){var i=a.call(this,e||"*","GUIAnalyze","")||this
return i.state=t.getData(),i.dlg=new s(i.subId("dlg")),i.dlg.onHiddenModal(function(t){$(window).scrollTop(0)}),i}return __extends(i,a),i.prototype.render=function(){var t=this,e=new Array
return e.push({id:"sys_1",text:"CPU usage percentage"}),e.push({id:"sys_2",text:"Memory usage percentage"}),e.push({id:"sys_3",text:"Disk usage percentage"}),e.push({id:"jvm_1",text:"Metaspace used"}),e.push({id:"jvm_3",text:"Heap Eden used"}),e.push({id:"jvm_5",text:"Heap Survivor used"}),e.push({id:"jvm_7",text:"Heap Tenured used"}),e.push({id:"jvm_9",text:"Code Cache used"}),e.push({id:"jvm_11",text:"Loaded Class count"}),e.push({id:"jvm_12",text:"Total Loaded class count"}),e.push({id:"jvm_13",text:"Unloaded class count"}),e.push({id:"jvm_14",text:"Thread count"}),e.push({id:"jvm_15",text:"Peak Thread count"}),e.push({id:"jvm_16",text:"Total Started Thread count"}),this.state||(this.state={msg:"No data",evn:[],sys:[],jvm:[]}),this.props||(this.props=e[0].id,this.title=e[0].text),this.sel=new WUX.WSelect("sel",e),this.sel.on("statechange",function(e){t.title=t.sel.getProps(),t.updateProps(t.sel.getState())}),this.frm=new WUX.WFormPanel(this.subId("frm")),this.frm.addRow(),this.frm.addComponent("sel","Select",this.sel),this.frm.addBlankField(),this.frm.addBlankField(),this.lbl=new WUX.WLabel(this.subId("lbl"),this.state.msg,WUX.WIcon.WARNING,"",WUX.CSS.LABEL_NOTICE),this.chr=new WUX.WChartJS(this.subId("chr"),"line"),this.chr.setState(this.getChartData()),this.chr.onClickChart(function(e){var s=t.chr.getLabel(e),a=t.chr.getValue(e)
t.title||(t.title="Events"),t.dlg.title=t.title,t.dlg.setProps(s),t.dlg.setState(a),t.dlg.setEvents(t.getEvents(s,500)),setTimeout(function(){t.dlg.show(t)},500)}),this.tbl=new WUX.WTable(this.subId("tbl"),["Date time","Type","Application","Class","Method","Elapsed","Size","Exception"]),this.tbl.selectionMode="single",this.tbl.setState(this.state.evn),this.cnt=new WUX.WContainer,this.cnt.addRow().addCol("12").section("Filter").add(this.frm),this.state.msg&&this.cnt.addRow().addCol("12").section("Message").add(this.lbl),this.cnt.addRow().addCol("12").section("Chart").add(this.chr).addRow().addCol("12").section("Events").add(this.tbl),this.cnt},i.prototype.updateProps=function(t){a.prototype.updateProps.call(this,t),this.mounted&&this.chr.setState(this.getChartData())},i.prototype.getChartData=function(){var t={},s=this.props.split("_")
if(!s||s.length<2)return t
var a=e.toArray(this.state[s[0]])
if(!a||!a.length)return t
for(var i=e.toNumber(s[1]),n=[],d=[],l=[],o=0;o<a.length;o++){var h=a[o],r=e.toString(h[0]),u=h[i]
n.push(r),l.push(u)}return d.push(l),t.labels=n,t.series=d,t},i.prototype.getEvents=function(t,e){if(!this.state||!this.state.evn)return[]
e||(e=100)
var s=this.state.evn.length
if(0==s)return[]
for(var a=-1,i=0;i<s;i++)if(this.state.evn[i][0]>=t){a=i
break}a<0&&(a=s-1)
var n=a-e
return n<0&&(n=0),this.state.evn.slice(n,a)},i}(WUX.WComponent)
t.GUIAnalyze=a}(WP||(WP={}))
